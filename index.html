<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NhanVat Interface - Final</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

    <div id="toast-container"></div>

    <div id="custom-confirm" class="confirm-overlay hidden">
        <div class="confirm-box">
            <h3>Xác nhận</h3>
            <p id="confirm-message">Bạn có chắc chắn muốn thực hiện?</p>
            <div class="confirm-actions">
                <button class="btn-cancel" onclick="closeConfirm()">Hủy bỏ</button>
                <button class="btn-ok" id="btn-confirm-yes">Đồng ý</button>
            </div>
        </div>
    </div>
    <div id="login-overlay" class="login-overlay hidden">
        <div class="login-box">
            <h2>Đăng Nhập</h2>
            <p>Vui lòng đăng nhập Google để tải tài nguyên.</p>
            <button class="google-btn" onclick="handleGoogleLogin()">
                <i class="fab fa-google"></i> Đăng nhập bằng Google
            </button>
            <button class="close-login" onclick="closeLoginPopup()">Đóng</button>
        </div>
    </div>

    <nav>
        <div class="nav-left">
            <div class="logo-circle" onclick="toggleTheme()" title="Đổi chế độ Sáng/Tối">N</div>
        </div>

        <div class="nav-container">
            <div class="nav-item active" id="btn-home" onclick="goHome()">TRANG CHỦ</div>
            
            <div id="btn-nhanvat" class="nav-item" onclick="switchCategory('NHAN_VAT')">
                NHÂN VẬT <div class="arrow-down"></div>
            </div>
            
            <div id="btn-khungcanh" class="nav-item" onclick="switchCategory('KHUNG_CANH')">
                KHUNG CẢNH <div class="arrow-down"></div>
            </div>

            <div id="btn-mauchuyendong" class="nav-item" onclick="switchCategory('MAU_CHUYEN_DONG')">
                MẪU CHUYỂN ĐỘNG <div class="arrow-down"></div>
            </div>

            <div id="btn-daocu" class="nav-item" onclick="switchCategory('DAO_CU')">
                ĐẠO CỤ <div class="arrow-down"></div>
            </div>

            <div id="btn-hieuung" class="nav-item" onclick="switchCategory('HIEU_UNG')">
                HIỆU ỨNG <div class="arrow-down"></div>
            </div>

            <div class="nav-item">ĐỘNG VẬT</div>
            <div class="nav-item">BIỂU CẢM & CỬ CHỈ</div>
            <div class="nav-item">VẬT LIỆU MIỄN PHÍ</div>
        </div>

        <div class="nav-right">
            <div class="user-icon" id="user-display" onclick="toggleLogin()">
                <svg viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
            </div>
        </div>
    </nav>

    <div id="home-section" class="home-container">
        <h1 class="home-title">KHO TÀI NGUYÊN <br> <span>SÁNG TẠO</span></h1>
        <p class="home-subtitle">Nguyenanimate...</p>
        <button class="explore-btn" onclick="switchCategory('NHAN_VAT')">KHÁM PHÁ NGAY</button>
    </div>

    <div class="container hidden" id="main-app">
        <div class="header-section">
            <a href="#" class="back-btn" onclick="goHome()">← QUAY VỀ TRANG CHỦ</a>
            <h1 class="main-title" id="page-title">NHAN<span>VAT</span></h1>
        </div>

        <div class="category-tabs" id="category-tabs"></div>

        <div class="controls-container">
            <div class="filters" id="filters"></div>
            <a href="javascript:void(0)" class="download-btn" id="download-btn" onclick="handleDownload()">
                <i class="fas fa-lock"></i> ĐĂNG NHẬP ĐỂ TẢI
            </a>
        </div>

        <div class="grid" id="grid"></div>
        <div class="pagination" id="pagination"></div>
    </div>

    <script src="data.js"></script>
    <script src="images.js"></script>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, signInWithPopup, GoogleAuthProvider, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

        // Thông tin từ ảnh bạn gửi
       const firebaseConfig = {
            apiKey: "AIzaSyC-PjBKsYMgFg9CMP87t_02dZ8pVpo4Uus",
            authDomain: "nguyen-animate-web.firebaseapp.com",
            projectId: "nguyen-animate-web",
            storageBucket: "nguyen-animate-web.firebasestorage.app",
            messagingSenderId: "133159757958",
            appId: "1:133159757958:web:98ba5a7173c92d319c8907",
            measurementId: "G-B6V37BE0J1"
        };
        // Khởi tạo Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        // Xuất ra window để script.js dùng được
        window.firebaseLibs = { 
            auth, 
            signInWithPopup, 
            GoogleAuthProvider, 
            signOut,
            onAuthStateChanged 
        };
        
        console.log("Firebase đã kết nối!");
    </script>

    <script src="script.js"></script>

</body>
</html>
